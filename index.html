<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üá±üá∞ GOD OF SERVER ¬∑ SRI LANKA ¬∑ pair code</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', Courier, monospace;
        }

        body {
            min-height: 100vh;
            background: #0b1a0f;
            background-image: 
                linear-gradient(0deg, #0c1e12 1px, transparent 1px),
                linear-gradient(90deg, #0c1e12 1px, transparent 1px);
            background-size: 30px 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            position: relative;
        }

        /* flicker overlay */
        body::after {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 30% 40%, #1a3a1a, #030803);
            opacity: 0.5;
            mix-blend-mode: multiply;
            pointer-events: none;
            z-index: 0;
        }

        .god-panel {
            position: relative;
            z-index: 20;
            max-width: 600px;
            width: 100%;
            background: rgba(6, 18, 10, 0.9);
            backdrop-filter: blur(4px);
            border: 3px solid #00ff99;
            box-shadow: 0 0 40px #00ff80, 0 0 15px #39ff9e inset;
            border-radius: 40px 40px 30px 30px;
            padding: 2rem 2rem 2.5rem;
            color: #bbffd1;
        }

        /* sri lanka flag hint */
        .flag-bar {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 1.5rem;
            background: #0f2f1a;
            padding: 0.6rem 1.2rem;
            border-radius: 60px;
            border: 1px solid #43ffa2;
            width: fit-content;
        }

        .flag-bar span {
            font-size: 2rem;
            filter: drop-shadow(0 0 4px #ffd966);
        }

        .flag-bar .country-text {
            font-size: 1.4rem;
            font-weight: bold;
            letter-spacing: 3px;
            color: #f0ffb0;
            text-shadow: 0 0 10px yellowgreen;
        }

        .glitch {
            font-size: 2.8rem;
            font-weight: 900;
            text-transform: uppercase;
            color: #c6ffd9;
            text-shadow: 0.03em 0 0 #ff00b3, -0.03em -0.02em 0 #00ebff;
            animation: glitchtweak 0.4s infinite alternate;
            line-height: 1.1;
            word-break: break-word;
        }

        @keyframes glitchtweak {
            0% { transform: translate(0); opacity: 1; }
            20% { transform: translate(-2px, 1px); }
            40% { transform: translate(2px, -1px); }
            60% { transform: skew(0.5deg, -0.2deg); }
            80% { transform: skew(-0.5deg, 0.2deg); }
            100% { transform: translate(0); }
        }

        .subhead {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1rem 0 2rem 0;
            background: #112213;
            padding: 0.5rem 1rem;
            border-radius: 30px;
            border: 1px solid #1eff8c;
            font-size: 1.1rem;
            color: #baffc6;
            flex-wrap: wrap;
        }

        .subhead .lk-badge {
            background: #000;
            color: #c5ffae;
            padding: 0.2rem 1rem;
            border-radius: 30px;
            border: 1px dashed #18ff87;
        }

        .input-section {
            margin: 2rem 0 1.2rem;
        }

        .label-icon {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.4rem;
            margin-bottom: 0.7rem;
            color: #dbffd7;
            border-left: 5px solid #43ffa2;
            padding-left: 16px;
            text-transform: uppercase;
        }

        .whatsapp-group {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            background: #0d1d12;
            border: 2px solid #34ff9e;
            border-radius: 80px;
            padding: 0.3rem 0.3rem 0.3rem 1.8rem;
            gap: 8px;
            box-shadow: 0 0 20px #47ff8b;
        }

        .whatsapp-group .prefix {
            font-size: 1.6rem;
            color: #d0ffbe;
            font-weight: bold;
        }

        .whatsapp-group .lk-code {
            background: #124f29;
            padding: 0.5rem 0.9rem;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: bold;
            color: #e2ffb0;
            border: 1px solid #64ffa4;
            letter-spacing: 1px;
        }

        .whatsapp-group input {
            flex: 3 1 200px;
            background: transparent;
            border: none;
            padding: 1rem 0.3rem;
            color: white;
            font-size: 1.6rem;
            font-weight: bold;
            outline: none;
            border-bottom: 2px dotted #4aff9e;
        }

        .whatsapp-group input::placeholder {
            color: #2c6b42;
            font-size: 1.1rem;
        }

        .niki-badge {
            background: #102f1b;
            border: 2px solid #50ffa8;
            color: #e3ffe6;
            padding: 0.8rem 2rem;
            border-radius: 40px;
            font-size: 1.8rem;
            font-weight: 800;
            text-align: center;
            margin: 2rem 0 1.5rem;
            box-shadow: 0 0 25px #00ff6a;
            letter-spacing: 4px;
        }

        .niki-badge::before {
            content: "‚ö° ";
            color: #c7ffa2;
        }

        .niki-badge::after {
            content: " ‚ö°";
            color: #c7ffa2;
        }

        .pair-display {
            background: #0b1f12;
            border-radius: 30px;
            padding: 1.5rem;
            border: 2px solid #5effab;
            text-align: center;
            margin: 1.2rem 0 2rem;
        }

        .pair-label {
            font-size: 1rem;
            color: #93ffb3;
            letter-spacing: 3px;
        }

        #codeSpan {
            font-size: 3.2rem;
            font-weight: 900;
            background: #153d21;
            display: inline-block;
            padding: 0.3rem 2rem;
            border-radius: 50px;
            border: 2px solid #75ffb0;
            color: #eeffd8;
            text-shadow: 0 0 18px #00ff80;
            font-family: 'Courier New', monospace;
            margin-top: 6px;
            box-shadow: inset 0 0 8px #000000, 0 0 30px #3effa2;
        }

        .generate-btn {
            background: #102f1b;
            border: 3px solid #3aff9e;
            color: #e3ffe6;
            font-size: 2rem;
            font-weight: bold;
            padding: 1.2rem 1.8rem;
            border-radius: 70px;
            width: 100%;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
            letter-spacing: 6px;
            box-shadow: 0 0 30px #2eff92;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .generate-btn:hover {
            background: #1b4f29;
            border-color: #b2ffc3;
            box-shadow: 0 0 55px #84ffb3;
            transform: scale(1.02);
        }

        .footer {
            margin-top: 2rem;
            text-align: center;
            border-top: 1px solid #35a56b;
            padding-top: 1rem;
            font-size: 0.9rem;
            color: #58b87a;
        }

        .footer .ceylon {
            color: #ffe68f;
            font-weight: bold;
        }

        .terminal-cursor {
            background: #00b344;
            display: inline-block;
            width: 10px;
            height: 1.4rem;
            margin-left: 4px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="god-panel">

        <!-- sri lanka pride -->
        <div class="flag-bar">
            <span>üá±üá∞</span>
            <span class="country-text">SRI LANKA ¬∑ CEYLON</span>
            <span>üü°üü†</span>
        </div>

        <!-- god of server glitch -->
        <div class="glitch">
            GOD OF SERVER
        </div>

        <div class="subhead">
            <span>‚ö° root@lk:~# </span>
            <span class="lk-badge">pair generation ¬∑ v1.0</span>
        </div>

        <!-- WhatsApp + Sri Lanka section -->
        <div class="input-section">
            <div class="label-icon">
                <span>üì± +94</span> ( whatsapp ¬∑ sri lanka )
            </div>

            <div class="whatsapp-group">
                <span class="prefix">üìû</span>
                <span class="lk-code">+94</span>
                <input type="text" id="waInput" placeholder="7x xxxxxx" value="77 123 4567">
            </div>
            <div style="text-align: right; margin-top: 5px; color: #78b784; font-size: 0.9rem;">
                ‚èµ enter sri lankan number (without +94)
            </div>
        </div>

        <!-- NIKI25 badge (fixed secret) -->
        <div class="niki-badge" id="nikiSecret">NIKI25</div>

        <!-- pair code display (dynamic) -->
        <div class="pair-display">
            <div class="pair-label">‚ö° YOUR PAIR CODE ‚ö°</div>
            <div id="codeSpan">??????</div>
        </div>

        <!-- GENERATE BUTTON -->
        <button class="generate-btn" id="genBtn">
            <span>‚ö°</span> GENERATE <span>‚ö°</span>
        </button>

        <!-- info footer with sri lanka reference -->
        <div class="footer">
            <span class="ceylon">üá±üá∞ island root ¬∑ colombo ¬∑ kandy ¬∑ jaffna </span> <br>
            <span>GOD OF SERVER // secret: NIKI25 + lk number = pair code</span>
            <span class="terminal-cursor"></span>
        </div>
    </div>

    <script>
        (function() {
            const waInput = document.getElementById('waInput');
            const genBtn = document.getElementById('genBtn');
            const codeSpan = document.getElementById('codeSpan');

            // Fixed secret
            const NIKI = "NIKI25";
            const SRI_LANKA_CODE = "94"; // for extra flavour

            // Helper: clean number (keep only digits)
            function cleanSriLankaNumber(raw) {
                let digits = raw.replace(/\D/g, '');
                // if it starts with 94, we can keep it, but we want local number mostly.
                // For better UX, if user includes 94 at front, we strip it to avoid double 94.
                if (digits.startsWith('94') && digits.length > 7) {
                    digits = digits.substring(2); // remove country code if they typed it
                }
                // ensure we have something, at least 7 digits for placeholder
                if (digits.length === 0) digits = "771234567";
                return digits;
            }

            // Generate pair code based on whatsapp (sri lanka) and NIKI25
            function generatePairCode(localDigits) {
                // combine elements: local number + NIKI + "LK" + some spice
                const base = localDigits + NIKI + SRI_LANKA_CODE + "GOD";

                // simple hash
                let hash = 0;
                for (let i = 0; i < base.length; i++) {
                    hash = ((hash << 5) - hash + base.charCodeAt(i)) >>> 0; // 32-bit
                }

                // use hash to build alphanumeric code 6-8 chars
                const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ0123456789"; // no I O to avoid confusion
                let code = "";
                let temp = hash;

                // length between 6 and 8 (based on hash)
                const len = 6 + (temp % 3);  // 6, 7 or 8
                for (let i = 0; i < len; i++) {
                    temp = (temp * 1103515245 + 12345) & 0x7fffffff; // glibc LCG
                    const idx = temp % chars.length;
                    code += chars[idx];
                }

                // ensure it has at least one digit
                if (!/[0-9]/.test(code)) {
                    const digitChar = "0123456789"[hash % 10];
                    code = code.slice(0, -1) + digitChar;
                }

                // add "25" if code too short? but better to embed NIKI reference
                // if code length < 7 and hash even, append "25"
                if (code.length < 7 && (hash % 2 === 0)) {
                    code += "25";
                } else if (code.length < 6) {
                    // just in case
                    code = code + "LK";
                }

                // enforce uppercase and max 8 chars
                code = code.toUpperCase().substring(0, 8);
                return code;
            }

            function updateCode() {
                let rawNumber = waInput.value.trim() || "771234567";
                const cleanDigits = cleanSriLankaNumber(rawNumber);
                // store cleaned back to input as placeholder of sri lankan number (without +94)
                waInput.value = cleanDigits;  // show digits only
                const pairCode = generatePairCode(cleanDigits);
                codeSpan.textContent = pairCode;
            }

            // initial generation
            updateCode();

            // event listeners
            genBtn.addEventListener('click', function(e) {
                e.preventDefault();
                // button animation
                genBtn.style.transform = 'scale(0.96)';
                setTimeout(() => genBtn.style.transform = '', 120);

                // also quick flash effect on pair display
                codeSpan.style.backgroundColor = '#206a33';
                codeSpan.style.transition = '0.1s';
                setTimeout(() => {
                    codeSpan.style.backgroundColor = '#153d21';
                }, 120);

                updateCode();
            });

            waInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    genBtn.click();
                }
            });

            // optional: restrict input to digits and spaces (but we clean anyway)
            waInput.addEventListener('input', function() {
                // we don't auto-update here, user can press generate
                // but we can optionally clean live, but keep it free
            });

            // extra: country sri lanka always visible in badge
        })();
    </script>
    <!-- ensure country sri lanka is highlighted: flag and +94 code visible -->
    <!-- pair code uses NIKI25 + sri lanka number to generate -->
</body>
</html>